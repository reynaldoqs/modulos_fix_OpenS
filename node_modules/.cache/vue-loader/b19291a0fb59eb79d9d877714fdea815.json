{"remainingRequest":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/src/Usuario/components/perfil/Creation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/src/Usuario/components/perfil/Creation.vue","mtime":1543864787258},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PerfilesAvatarsList from \"./AvatarsList\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: () => ({\n    editable: true,\n    form: {\n      nombre: \"\",\n      descripcion: \"\",\n      urlImagen: \"\"\n    }\n  }),\n  methods: {\n    savePerfil() {\n      this.editable = false;\n      if (this.isAuthenticated) {\n        this.$store\n          .dispatch(\"savePerfil\", {\n            clientId: this.currentUser.id,\n            nombre: this.form.nombre,\n            descripcion: this.form.descripcion,\n            urlImagen: this.form.urlImagen.toString()\n          })\n          .then(data => {\n            this.selectIt(data.data.id);\n            this.editable = false;\n          })\n          .catch(err => {\n            this.editable = true;\n            this.$q.notify({\n              message: err,\n              type: \"negative\",\n              color: \"negative\",\n              textColor: \"white\",\n              icon: \"error\",\n              position: \"top-right\",\n              timeout: 8000\n            });\n          });\n      }\n    },\n    selectIt(idPerfil) {\n      this.$store.dispatch(\"changePerfil\", idPerfil);\n      this.$router.push({ name: \"composicion\" });\n    },\n    cancel() {\n      this.$router.go(-1);\n    }\n  },\n  computed: {\n    ...mapGetters([\n      \"userPerfiles\",\n      \"isAuthenticated\",\n      \"currentUser\",\n      \"currentPerfil\",\n      \"hasPerfil\"\n    ])\n  },\n  components: {\n    PerfilesAvatarsList\n  }\n};\n",{"version":3,"sources":["Creation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Creation.vue","sourceRoot":"src/Usuario/components/perfil","sourcesContent":["<template>\n  <div>\n    <div class=\"perfil-selection-title\">\n      <h3>Agregar un nuevo perfil</h3>\n      <p>Seleccione un avatar y complete los datos necesarios para crear un nuevo perfil.</p>\n    </div>\n    <div class=\"perfiles-container\">\n      <div>\n        <perfiles-avatars-list v-on:onSelect=\"data => {form.urlImagen = data}\"/>\n      </div>\n      <div>\n        <div class=\"perfil-form dark-theme\">\n          <div class=\"row gutter-y-md gutter-x-sm\">\n            <div class=\"col-4\">\n              <q-input\n                v-model=\"form.nombre\"\n                :disabled=\"!editable\"\n                inverted\n                color=\"tertiary\"\n                placeholder=\"Nombre\"\n                @keyup.enter=\"savePerfil\"\n              />\n            </div>\n            <div class=\"col-8\">\n              <q-input\n                v-model=\"form.descripcion\"\n                :disabled=\"!editable\"\n                inverted\n                color=\"tertiary\"\n                placeholder=\"DescripciÃ³n\"\n                @keyup.enter=\"savePerfil\"\n              />\n            </div>\n          </div>\n          <div class=\"botones-container\">\n            <div class=\"col-6\">\n              <q-btn @click=\"cancel\" color=\"neutral\" size=\"md\" label=\"Cancelar\"/>\n            </div>\n            <div class=\"col-6\">\n              <q-btn\n                :disabled=\"!editable\"\n                @click=\"savePerfil\"\n                color=\"positive\"\n                size=\"md\"\n                label=\"Guardar\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport PerfilesAvatarsList from \"./AvatarsList\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: () => ({\n    editable: true,\n    form: {\n      nombre: \"\",\n      descripcion: \"\",\n      urlImagen: \"\"\n    }\n  }),\n  methods: {\n    savePerfil() {\n      this.editable = false;\n      if (this.isAuthenticated) {\n        this.$store\n          .dispatch(\"savePerfil\", {\n            clientId: this.currentUser.id,\n            nombre: this.form.nombre,\n            descripcion: this.form.descripcion,\n            urlImagen: this.form.urlImagen.toString()\n          })\n          .then(data => {\n            this.selectIt(data.data.id);\n            this.editable = false;\n          })\n          .catch(err => {\n            this.editable = true;\n            this.$q.notify({\n              message: err,\n              type: \"negative\",\n              color: \"negative\",\n              textColor: \"white\",\n              icon: \"error\",\n              position: \"top-right\",\n              timeout: 8000\n            });\n          });\n      }\n    },\n    selectIt(idPerfil) {\n      this.$store.dispatch(\"changePerfil\", idPerfil);\n      this.$router.push({ name: \"composicion\" });\n    },\n    cancel() {\n      this.$router.go(-1);\n    }\n  },\n  computed: {\n    ...mapGetters([\n      \"userPerfiles\",\n      \"isAuthenticated\",\n      \"currentUser\",\n      \"currentPerfil\",\n      \"hasPerfil\"\n    ])\n  },\n  components: {\n    PerfilesAvatarsList\n  }\n};\n</script>\n<style scoped>\n.creation-btn {\n  width: 100%;\n}\n.perfiles-container {\n  max-width: 500px;\n  margin: 0 auto;\n  background-color: var(--bg-content);\n  padding: 14px;\n}\n.perfil-form {\n  padding-top: 20px;\n}\n.botones-container {\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n  margin-top: 10px;\n  top: 16px;\n  right: -16px;\n}\n.perfil-selection-title {\n  text-align: center;\n  padding: 2px 10px 30px 10px;\n}\n.perfil-selection-title > p {\n  color: var(--text-small);\n  margin-top: 2px;\n  margin-bottom: 0;\n}\n.perfil-selection-title > h3 {\n  font-size: 1.5em;\n  font-weight: 400;\n}\n</style>\n"]}]}