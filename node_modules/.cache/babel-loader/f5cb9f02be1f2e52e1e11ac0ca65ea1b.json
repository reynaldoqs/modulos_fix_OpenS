{"remainingRequest":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/babel-loader/lib/index.js!/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/src/Usuario/components/perfil/Creation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/src/Usuario/components/perfil/Creation.vue","mtime":1543864787258},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/reynaldo/Escritorio/interoparabilidad/interope-cliente/iop-plataforma-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.regexp.to-string\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PerfilesAvatarsList from \"./AvatarsList\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      editable: true,\n      form: {\n        nombre: \"\",\n        descripcion: \"\",\n        urlImagen: \"\"\n      }\n    };\n  },\n  methods: {\n    savePerfil: function savePerfil() {\n      var _this = this;\n\n      this.editable = false;\n\n      if (this.isAuthenticated) {\n        this.$store.dispatch(\"savePerfil\", {\n          clientId: this.currentUser.id,\n          nombre: this.form.nombre,\n          descripcion: this.form.descripcion,\n          urlImagen: this.form.urlImagen.toString()\n        }).then(function (data) {\n          _this.selectIt(data.data.id);\n\n          _this.editable = false;\n        }).catch(function (err) {\n          _this.editable = true;\n\n          _this.$q.notify({\n            message: err,\n            type: \"negative\",\n            color: \"negative\",\n            textColor: \"white\",\n            icon: \"error\",\n            position: \"top-right\",\n            timeout: 8000\n          });\n        });\n      }\n    },\n    selectIt: function selectIt(idPerfil) {\n      this.$store.dispatch(\"changePerfil\", idPerfil);\n      this.$router.push({\n        name: \"composicion\"\n      });\n    },\n    cancel: function cancel() {\n      this.$router.go(-1);\n    }\n  },\n  computed: _objectSpread({}, mapGetters([\"userPerfiles\", \"isAuthenticated\", \"currentUser\", \"currentPerfil\", \"hasPerfil\"])),\n  components: {\n    PerfilesAvatarsList: PerfilesAvatarsList\n  }\n};",{"version":3,"sources":["Creation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA,OAAA,mBAAA,MAAA,eAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,QAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA;AACA,QAAA,MAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,SAAA,EAAA;AAHA;AAFA,KAAA;AAAA,GADA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,QAAA,GAAA,KAAA;;AACA,UAAA,KAAA,eAAA,EAAA;AACA,aAAA,MAAA,CACA,QADA,CACA,YADA,EACA;AACA,UAAA,QAAA,EAAA,KAAA,WAAA,CAAA,EADA;AAEA,UAAA,MAAA,EAAA,KAAA,IAAA,CAAA,MAFA;AAGA,UAAA,WAAA,EAAA,KAAA,IAAA,CAAA,WAHA;AAIA,UAAA,SAAA,EAAA,KAAA,IAAA,CAAA,SAAA,CAAA,QAAA;AAJA,SADA,EAOA,IAPA,CAOA,UAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,SAVA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,UAAA,KAAA,CAAA,EAAA,CAAA,MAAA,CAAA;AACA,YAAA,OAAA,EAAA,GADA;AAEA,YAAA,IAAA,EAAA,UAFA;AAGA,YAAA,KAAA,EAAA,UAHA;AAIA,YAAA,SAAA,EAAA,OAJA;AAKA,YAAA,IAAA,EAAA,OALA;AAMA,YAAA,QAAA,EAAA,WANA;AAOA,YAAA,OAAA,EAAA;AAPA,WAAA;AASA,SAtBA;AAuBA;AACA,KA5BA;AA6BA,IAAA,QA7BA,oBA6BA,QA7BA,EA6BA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,QAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAhCA;AAiCA,IAAA,MAjCA,oBAiCA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AAnCA,GATA;AA8CA,EAAA,QAAA,oBACA,UAAA,CAAA,CACA,cADA,EAEA,iBAFA,EAGA,aAHA,EAIA,eAJA,EAKA,WALA,CAAA,CADA,CA9CA;AAuDA,EAAA,UAAA,EAAA;AACA,IAAA,mBAAA,EAAA;AADA;AAvDA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"perfil-selection-title\">\n      <h3>Agregar un nuevo perfil</h3>\n      <p>Seleccione un avatar y complete los datos necesarios para crear un nuevo perfil.</p>\n    </div>\n    <div class=\"perfiles-container\">\n      <div>\n        <perfiles-avatars-list v-on:onSelect=\"data => {form.urlImagen = data}\"/>\n      </div>\n      <div>\n        <div class=\"perfil-form dark-theme\">\n          <div class=\"row gutter-y-md gutter-x-sm\">\n            <div class=\"col-4\">\n              <q-input\n                v-model=\"form.nombre\"\n                :disabled=\"!editable\"\n                inverted\n                color=\"tertiary\"\n                placeholder=\"Nombre\"\n                @keyup.enter=\"savePerfil\"\n              />\n            </div>\n            <div class=\"col-8\">\n              <q-input\n                v-model=\"form.descripcion\"\n                :disabled=\"!editable\"\n                inverted\n                color=\"tertiary\"\n                placeholder=\"DescripciÃ³n\"\n                @keyup.enter=\"savePerfil\"\n              />\n            </div>\n          </div>\n          <div class=\"botones-container\">\n            <div class=\"col-6\">\n              <q-btn @click=\"cancel\" color=\"neutral\" size=\"md\" label=\"Cancelar\"/>\n            </div>\n            <div class=\"col-6\">\n              <q-btn\n                :disabled=\"!editable\"\n                @click=\"savePerfil\"\n                color=\"positive\"\n                size=\"md\"\n                label=\"Guardar\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport PerfilesAvatarsList from \"./AvatarsList\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: () => ({\n    editable: true,\n    form: {\n      nombre: \"\",\n      descripcion: \"\",\n      urlImagen: \"\"\n    }\n  }),\n  methods: {\n    savePerfil() {\n      this.editable = false;\n      if (this.isAuthenticated) {\n        this.$store\n          .dispatch(\"savePerfil\", {\n            clientId: this.currentUser.id,\n            nombre: this.form.nombre,\n            descripcion: this.form.descripcion,\n            urlImagen: this.form.urlImagen.toString()\n          })\n          .then(data => {\n            this.selectIt(data.data.id);\n            this.editable = false;\n          })\n          .catch(err => {\n            this.editable = true;\n            this.$q.notify({\n              message: err,\n              type: \"negative\",\n              color: \"negative\",\n              textColor: \"white\",\n              icon: \"error\",\n              position: \"top-right\",\n              timeout: 8000\n            });\n          });\n      }\n    },\n    selectIt(idPerfil) {\n      this.$store.dispatch(\"changePerfil\", idPerfil);\n      this.$router.push({ name: \"composicion\" });\n    },\n    cancel() {\n      this.$router.go(-1);\n    }\n  },\n  computed: {\n    ...mapGetters([\n      \"userPerfiles\",\n      \"isAuthenticated\",\n      \"currentUser\",\n      \"currentPerfil\",\n      \"hasPerfil\"\n    ])\n  },\n  components: {\n    PerfilesAvatarsList\n  }\n};\n</script>\n<style scoped>\n.creation-btn {\n  width: 100%;\n}\n.perfiles-container {\n  max-width: 500px;\n  margin: 0 auto;\n  background-color: var(--bg-content);\n  padding: 14px;\n}\n.perfil-form {\n  padding-top: 20px;\n}\n.botones-container {\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n  margin-top: 10px;\n  top: 16px;\n  right: -16px;\n}\n.perfil-selection-title {\n  text-align: center;\n  padding: 2px 10px 30px 10px;\n}\n.perfil-selection-title > p {\n  color: var(--text-small);\n  margin-top: 2px;\n  margin-bottom: 0;\n}\n.perfil-selection-title > h3 {\n  font-size: 1.5em;\n  font-weight: 400;\n}\n</style>\n"],"sourceRoot":"src/Usuario/components/perfil"}]}